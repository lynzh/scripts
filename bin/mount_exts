#!/bin/bash
# script to make sure external drives are mounted

# make sure /mnt/ext1 is a directory, then mount disk to dir 
[ -d /mnt/ext1 ] && mount /dev/sdc1 /mnt/ext1 || \
[ ! -d /mnt/ext1 ] && mkdir /mnt/ext1 && mount /dev/sdc1 /mnt/ext1;
# if its not directory, make a directory, then redo, then mount

# same process over here
[ -d /mnt/ext2 ] && mount /dev/sdd1 /mnt/ext2 || \
[ ! -d /mnt/ext2 ] && mkdir /mnt/ext2 && mount /dev/sdd1 /mnt/ext2;

# Add external disks to group storage, needs check if groups exist
chgroup storage /mnt/ext1;
chgroup storage /mnt/ext2;

# Let users read from external disks
chmod 755 /mnt/ext1; 
chmod 755 /mnt/ext2;

# add user to group \storage\
usermod -G storage lynzh

[ -b /dev/sdc1 ] && [ -d /mnt/ext1 ] && \
ln -s /mnt/ext1 $HOME/ext1;

[ -b /dev/sdd1 ] && [ -d /mnt/ext2 ] && \
ln -s /mnt/ext2 $HOME/ext2;

